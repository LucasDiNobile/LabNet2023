@{
    ViewBag.Title = "Employee Page";
}
<head>
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
</head>
<body>
    <h1>Index Ajax</h1>
    <h5>Aqui se utiliza Ajax para tomar una lista de empleados de una pagina externa y mostrarla en Index Ajax.</h5>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">name</th>
                <th scope="col">username</th>
                <th scope="col">email</th>
            </tr>
        </thead>
        <tbody id="usersDatos">
        </tbody>
    </table>

    @using (Html.BeginForm("VolverInicio", "Ajax", FormMethod.Post))
    {
        <input type="submit" class="btn btn-success" value="Volver al inicio" />
    }

</body>

<script>
    function ajax() {
        $.ajax({
            url: 'https://jsonplaceholder.typicode.com/users',
            method: 'GET',
            dataType: "json",
            success: function (data) {
                let usuarios = data;
                let value = '';
                for (var i = 0; i < usuarios.length; i++) {
                    value += '<tr>' +
                        '<td>' + usuarios[i].name + '</td>' +
                        '<td>' + usuarios[i].username + '</td>' +
                        '<td>' + usuarios[i].email + '</td>' +                     
                         '</tr>';
                }
                $('#usersDatos').html(value);
            },
            error: function (xhr) {
                consol.log(xhr);
            }
        });
    }
    $(document).ready(function ($) {
        ajax();
    })
</script>
