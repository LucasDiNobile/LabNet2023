@model List<Lab.Practica6.MVC.Models.EmployeeModel>

@{
    ViewBag.Title = "Empployee Page";
}

<head>
    <script defer src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <h1>Index Employee</h1>

    <div>
        @Html.ActionLink("Insertar Employee", "Insert")
    </div>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Nombre Employee</th>
                <th scope="col">Apellido Employee</th>
                <th scope="col">Modificar</th>
                <th scope="col">X</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var employee in Model)
            {
                <tr>
                    <td>@employee.Nombre</td>
                    <td>@employee.Apellido</td>
                    <td>@Html.ActionLink("Modificar", "Edit", new { id = employee.Id })</td>                
                    <td>@Html.ActionLink("Borrar", "Delete", new { id = employee.Id }, new { onclick = "return confirm('Seguro desea borrar este empleado?')" })</td>
                </tr>
            }
        </tbody>
    </table>
</body>

<script>    
    function ajaxDelete(idEmployee) {
        $.ajax({
            url: @Url.Action("Delete", "Employee"),
            method: 'POST',
            data: {
                idEmployee: idEmployee,
            },
            dataType: "json",
            success: function (data) {
                consol.log(data);
            },
            error: function (xhr) {
                consol.log(xhr);
            }
        });
    }
</script>
